# for infra test environment on EC2

cloud:
  aws:
    # AWS common
    region:
      auto: true
    stack:
      auto: false
    # SES
    ses:
      region: us-east-1
    # SQS
    sqs:
      region: ap-northeast-1
    # CloudWatch
    cloudwatch:
      region: ap-northeast-1

# RDB(RDSを使用)
# urlは実際のものに置き換えが必要
database:
  url: jdbc:postgresql://cn-int-db-test1.XXXX.ap-northeast-1.rds.amazonaws.com:5432/atrs?socketTimeout=120&connectTimeout=120
  username: postgres
  password: postgres
  driverClassName: org.postgresql.Driver

# connection pool for RDB
# bean定義に反映させる必要があることに注意
cp:
  maxActive: 96
  maxIdle: 16
  minIdle: 16
  initialSize: 16
  maxWait: 60000
  validationQuery: SELECT 1
  testOnConnect: true
  testWhileIdle: true
  # Amazon failover の最大値
  # 参考 [http://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html]
  timeBetweenEvictionRunsMillis: 120000
  removeAbandoned: true
  removeAbandonedTimeout: 60

# configurations for notification
reservation:
  notification:
    # 環境毎にキューを切り替える。
    queue: cn-int-queue
    concurrency: 5-10
    mail:
      # 実際のものに置き換えが必要
      from: cloud-native@XXXX.YYYY.jp

# Logging
logging:
  path: /var/log/atrslogs
  # Workaround for duplicated log files
  config: classpath:atrsback-logback-spring.xml
